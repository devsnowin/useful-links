import{S as K,i as Q,s as V,l as b,m as T,p as y,h as u,q as p,b as z,n as L,K as j,o as N,u as S,a as C,v as w,c as q,L as D,F as k,M as X,w as G,N as I,O as M,x as Y,P as Z,y as $,z as x,Q as O,f as ee,t as te,C as le,e as R}from"../chunks/index-76207ca0.js";import{i as H,D as J,R as W,o as ne}from"../chunks/firebase-e099c21b.js";function P(i,l,n){const e=i.slice();return e[8]=l[n],e}function U(i){let l,n=i[8]+"",e,t,a,s,o;function f(){return i[5](i[8])}return{c(){l=b("button"),e=S(n),t=C(),this.h()},l(_){l=T(_,"BUTTON",{class:!0});var h=y(l);e=w(h,n),t=q(h),h.forEach(u),this.h()},h(){p(l,"class",a=D(`category ${i[0]===i[8]&&"active"}`)+" svelte-1lc8768")},m(_,h){z(_,l,h),k(l,e),k(l,t),s||(o=X(l,"click",f),s=!0)},p(_,h){i=_,h&2&&n!==(n=i[8]+"")&&G(e,n),h&3&&a!==(a=D(`category ${i[0]===i[8]&&"active"}`)+" svelte-1lc8768")&&p(l,"class",a)},d(_){_&&u(l),s=!1,o()}}}function se(i){let l,n=i[1],e=[];for(let t=0;t<n.length;t+=1)e[t]=U(P(i,n,t));return{c(){l=b("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=T(t,"DIV",{class:!0});var a=y(l);for(let s=0;s<e.length;s+=1)e[s].l(a);a.forEach(u),this.h()},h(){p(l,"class","categories svelte-1lc8768")},m(t,a){z(t,l,a);for(let s=0;s<e.length;s+=1)e[s].m(l,null)},p(t,[a]){if(a&7){n=t[1];let s;for(s=0;s<n.length;s+=1){const o=P(t,n,s);e[s]?e[s].p(o,a):(e[s]=U(o),e[s].c(),e[s].m(l,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},i:L,o:L,d(t){t&&u(l),j(e,t)}}}function ae(i,l,n){let{activeTag:e}=l,{links:t}=l,a=[],{filtered:s}=l;const{firestore:o}=H(),f=J(o,"Links");N(()=>{W(f,r=>{n(1,a=r.docs.map(d=>d.data().tag)),a.sort(),a.unshift("all"),n(1,a=[...new Set(a)])})});function _(){if(e==="all"){n(3,s=t);return}n(3,s=t.filter((r,d)=>r.tag===e))}const h=r=>{n(0,e=r),_()};return i.$$set=r=>{"activeTag"in r&&n(0,e=r.activeTag),"links"in r&&n(4,t=r.links),"filtered"in r&&n(3,s=r.filtered)},[e,a,_,s,t,h]}class ie extends K{constructor(l){super(),Q(this,l,ae,se,V,{activeTag:0,links:4,filtered:3})}}function B(i,l,n){const e=i.slice();return e[8]=l[n],e}function oe(i){let l,n;return{c(){l=b("p"),n=S("No links founded!")},l(e){l=T(e,"P",{});var t=y(l);n=w(t,"No links founded!"),t.forEach(u)},m(e,t){z(e,l,t),k(l,n)},p:L,d(e){e&&u(l)}}}function ce(i){let l,n=i[2],e=[];for(let t=0;t<n.length;t+=1)e[t]=F(B(i,n,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();l=R()},l(t){for(let a=0;a<e.length;a+=1)e[a].l(t);l=R()},m(t,a){for(let s=0;s<e.length;s+=1)e[s].m(t,a);z(t,l,a)},p(t,a){if(a&4){n=t[2];let s;for(s=0;s<n.length;s+=1){const o=B(t,n,s);e[s]?e[s].p(o,a):(e[s]=F(o),e[s].c(),e[s].m(l.parentNode,l))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},d(t){j(e,t),t&&u(l)}}}function F(i){let l,n,e=i[8].title+"",t,a,s;return{c(){l=b("li"),n=b("a"),t=S(e),s=C(),this.h()},l(o){l=T(o,"LI",{class:!0});var f=y(l);n=T(f,"A",{href:!0});var _=y(n);t=w(_,e),_.forEach(u),s=q(f),f.forEach(u),this.h()},h(){p(n,"href",a="/link/"+i[8].id),p(l,"class","link__title svelte-qszzr8")},m(o,f){z(o,l,f),k(l,n),k(n,t),k(l,s)},p(o,f){f&4&&e!==(e=o[8].title+"")&&G(t,e),f&4&&a!==(a="/link/"+o[8].id)&&p(n,"href",a)},d(o){o&&u(l)}}}function re(i){let l,n,e,t,a,s,o,f;function _(c){i[3](c)}function h(c){i[4](c)}let r={links:i[0]};i[1]!==void 0&&(r.activeTag=i[1]),i[2]!==void 0&&(r.filtered=i[2]),e=new ie({props:r}),I.push(()=>M(e,"activeTag",_)),I.push(()=>M(e,"filtered",h));function d(c,m){return c[2]&&c[2].length>0?ce:oe}let E=d(i),g=E(i);return{c(){l=C(),n=b("main"),Y(e.$$.fragment),s=C(),o=b("ol"),g.c(),this.h()},l(c){Z('[data-svelte="svelte-1we7cf0"]',document.head).forEach(u),l=q(c),n=T(c,"MAIN",{class:!0});var v=y(n);$(e.$$.fragment,v),s=q(v),o=T(v,"OL",{class:!0});var A=y(o);g.l(A),A.forEach(u),v.forEach(u),this.h()},h(){document.title="Useful Links",p(o,"class","links svelte-qszzr8"),p(n,"class","svelte-qszzr8")},m(c,m){z(c,l,m),z(c,n,m),x(e,n,null),k(n,s),k(n,o),g.m(o,null),f=!0},p(c,[m]){const v={};m&1&&(v.links=c[0]),!t&&m&2&&(t=!0,v.activeTag=c[1],O(()=>t=!1)),!a&&m&4&&(a=!0,v.filtered=c[2],O(()=>a=!1)),e.$set(v),E===(E=d(c))&&g?g.p(c,m):(g.d(1),g=E(c),g&&(g.c(),g.m(o,null)))},i(c){f||(ee(e.$$.fragment,c),f=!0)},o(c){te(e.$$.fragment,c),f=!1},d(c){c&&u(l),c&&u(n),le(e),g.d()}}}function fe(i,l,n){let e=[],t="all",a=[];const{firestore:s,firebaseAuth:o}=H(),f=J(s,"Links");N(()=>{ne(o,r=>{r||localStorage.removeItem("uid")})}),N(()=>{W(f,r=>{n(0,e=r.docs.map(d=>({id:d.id,...d.data()}))),n(2,a=r.docs.map(d=>({id:d.id,...d.data()})))})});function _(r){t=r,n(1,t)}function h(r){a=r,n(2,a)}return[e,t,a,_,h]}class he extends K{constructor(l){super(),Q(this,l,fe,re,V,{})}}export{he as default};
